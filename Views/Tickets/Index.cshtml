@using Toto_Simulator.Models;
@model IEnumerable<TicketViewModel>
@{
    ViewData["Title"] = "Талони";
}
<div class="d-flex justify-content-between">
    <div class="flex-column">
        <a asp-controller="Tickets" asp-action="Create" class="btn btn-success mb-2 align-self-auto">Попълни талон</a>
        <a asp-action="Index" asp-route-sortOrder="@ViewData["IdSortParam"]" class="btn btn-outline-success align-self-auto mb-2">Сортирай по номер</a>
    </div>
    <div class="flex-column">
        <span>Печалби: </span> @Model.Last().Owner.Earnings      
    </div>
</div>
<div class="d-flex justify-content-around flex-lg-wrap gap-3">
    @foreach (var ticket in Model)
    {
        <div class="card flex-column" style="width: 20rem;">
            <ul class="list-group list-group-flush">
                <li class="list-group-item"><span class="fw-bold">Номер на талон: </span> @ticket.Id</li>
                <li class="list-group-item"><span class="fw-bold">Дата: </span> @ticket.Date</li>
                <li class="list-group-item"><span class="fw-bold">Цена: </span> : @ticket.Price</li>
                <li class="list-group-item"><span class="fw-bold">Номер на тираж: </span> : @ticket.DrawId</li>
                <li class="list-group-item"><span class="fw-bold">Играч: </span> : @ticket.Owner.UserName</li>
                <li class="list-group-item">
                        <ul class="list-group list-group-horizontal">
                            @foreach (var num in ticket.Numbers)
                            {
                                <li class="list-group-item">@num.Value</li>                
                            }
                        </ul>
                </li>                
            </ul>
        </div>
    }
</div>